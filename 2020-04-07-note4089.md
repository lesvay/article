---
title: 408刷题笔记9
date: 2020-04-07 09:05:19
categories: 
    - 刷题笔记
tags: 
    - 408
---

# 计算机网络

## 网络层的功能

异构网络是指传输介质、数据编码方式、链路控制协议以及不同的数据单元格式和转发机制。在物理层和数据链路层定义。

## 路由算法

由于“好的消息传得快，坏的消息传的慢”路由信息变化时未能及时被所有路由器知道，导致慢收敛现象，导致路由接受了无效的信息，从而产生了路由回路问题。

直接交付：发送方和目的站具有相同的子网地址

分层路由路由器被划分为区域，仅知道自己所在区域的目标地址。

## IPV4

协议字段表示使用IP协议的上层协议，6TCP,17UDP

版本字段表示IP协议的版本，4IPv4，6IPv6

首部长度以32bit为计数单位，总长度以8bit为计数单位

片偏移8bit为单位

127.x.x.x回路测试

避免无限转发环路分组的方法是设定生命周期TTL

NAT表项由管理员添加，如果没有就直接不转发丢弃。

ICMP差错报告报文：重点不可达、源点抑制（路由或主机因拥塞而丢弃数据）、时间超过、参数问题、改变路由（重定向）

ping使用了ICMP询问报文中的回送请求和回答请求

首部长度

MF=1表示后面还有其他分片

DF=1表示可以分片

## IPV6

16个字节，128位

IPV6取消了校验和字段，首部长度固定，也不需要首部长度字段。

IPV6不允许分片，如果数据报太大，则路由器把该数据报丢弃

## 路由协议

路由选择功能：获取网络拓扑信息、构建路由表、在网络中更新路由信息、选择到达每个目的网络的最优路径、识别一个网络的无环通路。

路由收敛是指当路由环境发生变化后，各路由器调整自己的路由表以适应网络拓扑结构的变换，最终达到稳定状态

RIP是应用层协议，OSPF是网络层协议

OPSF使用hello分组与邻居保持连接

OSPF路由器：区域内部路由器、主干路由器、区域边界路由器、自治域边界路由器

BGP交换的网络可达性信息是到达某个网络所经过的路径

## IP组播

一个组播所需要的带宽小于多个单播带宽之和

组播地址范围：224.0.0.0-239.255.255.255

组播需要路由器增加一些能够识别组播的软件

## 移动IP

当一个分组到达用户的本地LAN时，它被转送发给某一台与本地LAN相连接的路由器。该路由器寻找目的主机，这时本地代理响应该请求，将这些分组封装到一些新IP分组的载荷，并将新分组发送给外部代理，外部代理将分组移交给移动后的主机。

注册过程将新的可达信息通知归属代理。

移动主机在原始本地网时，获得的是主地址，当移动到其他网段后会产生一个临时辅地址。

## 网络层设备

路由器依据传输距离进行选择

路由选择处理机根据选定的路由选择协议构造路由表

分组转发部分：交换结构、输入端口、输出端口

路由选择部分：路由选择处理机、路由选择协议、路由表

默认路由，目的地址：0.0.0.0，子网掩码：0.0.0.0

# 计算机组成原理

## IO方式

中断处理过程：关中断->保存断点->识别中断源->保存现场->中断事件处理->恢复现场->开中断->中断返回

高优先级置0表示可被中断，比该中断优先级低的置1表示不可被中断。

总线仲裁方式I/O设备争用总线，中断判优方式I/O设备争用CPU

中断向量地址是中断服务程序入口地址的地址

自陷是人为设定的特殊处理机制

CPU会统一扫描各中断源进行判优决定响应哪个中断源，每个存储周期结束后检查是否有DMA

主存故障引起机器校验中断（内中断）

输入输出引起访管中断，需要调用系统接口

主存和CPU以外的中断叫外中断

高中断级别->低中断级别，0表示不可中断，1表示可中断

中断保护：PC和PSW，由硬件完成

DMA只能用于数据传输，不能中断程序。不占用程序计数器和寄存器

CPU工作周期：取指周期、间址周期、执行周期、中断周期

DMA可以在CPU工作周期间的任意缝隙中







