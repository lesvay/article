---
title: 408刷题笔记10
date: 2020-04-08 08:43:08
categories: 
    - 刷题笔记
tags: 
    - 408
---

# 计算机组成原理

## CPU的功能和基本概念

条件转移指令依据标志寄存器

指令寄存器对用户透明

PC属于控制器

程序计数器位数取决于存储器的容量，指令寄存器的位数取决于指令字长，通用寄存器的位数取决于机器字长

地址译码器不属于CPU

CPU专用寄存器：PC程序计数器、IR指令寄存器、MDR存储器数据寄存器、MAR存储器地址寄存器、PSW程序状态字寄存器

## 指令执行过程

空操作取指后PC也会自加1

DMA每传送一个数据就占用存取周期

取指操作是自动进行的不需要得到相应的指令

CPU响应中断的时间，在一条指令执行结束后，进入中断周期

指令字长取决于操作码长度、操作数地址的长度和 操作数地址的个数

## 数据通路的功能和基本结构

CPU数据通路的基本结构：总线结构和专用数据通路结构

总线结构：单总线结构、双总线结构、多总线结构

## 控制器的功能和工作原理

CU输入信号来源：经指令译码器译码产生的指令信息、时序系统产生的机器周期信号和节拍信号、来自执行单元的反馈信息即标志，前两个是主要因素。

机器指令的操作码字段指出各个微程序的入口地址

微程序速度慢但较为灵活，控制器由ROM组成。一条微指令存放在控制器的一个空存单元中。

微程序控制器中，控制部件向执行部件发出的控制信号称为微命令。

在一个CPU周期中，一组实现一定功能的微命令的组合构成一条微指令，有序的微指令序列构成一段微程序，微程序的作用是实现一条对应的机器指令。

水平型微指令字长程序短，可以定义并执行几种并行的基本操作。

垂直型微指令字短程序长，只能定义并执行一种基本操作。

微程序个数=机器指令n+公共取指微指令+中断周期微指令

CPU控制器：指令寄存器、程序计数器、操作控制器

主机中寄存器位数：ACC32\MQ32\ALU32\IR32\MDR32\PC16\MAR16

## 指令流水线

指令流水线阻塞：结构相关（资源相关）、数据相关、控制相关

空间并行技术：多个功能部件共同执行同一任务的不同部分

时间并行技术：多个功能部件时间上错开，轮流执行不同任务的相同部分

指令冒险即数据相关，一个程序中必须等前一天指令执行完才能执行后一条指令。

解决数据相关问题：暂停相关指令的执行（暂停流水线）、采用专门的数据通路（旁路技术）。

指令周期：IF->ID->EX->WB

## 总线概述

猝发传输（突发传输）是在一个总线周期中，可以传输多个存储地址连续的数据，即一次传输一个地址和一批地址连续的数据。

按功能分：片内总线、系统总线（数据总线、地址总线、控制总线）、通信总线

按标准：ISA总线、VESA总线、PCI总线

三总线结构：DMA总线、主存总线、I/O总线

控制总线中控制信号：时序信号、I/O设备和存储器的响应信号

## 总线仲裁

n个设备：链式查询3条控制线、计数器定时查询[log2n]+2、独立请求2n+1

计数器定时查询，当计数器永远从0开始，则靠近仲裁机构的优先级高。若从断点开始计数，则优先级相等。

总先忙信号由获得总线使用权的设备发出的。

## 总线操作和定时

全互锁、半互锁、不互锁

##  总线标准

典型总线标准：ISA、EISA、VESA、PCI、PCI-Express、AGP、USB、RS-232C

USB是串行总线，同时只能传播一位数据

