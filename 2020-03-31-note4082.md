---
title: note4082
date: 2020-03-31 08:06:11
categories: 
    - 408刷题笔记1
tags: 
    - 408
---

# 计算机网络

## 计算机网络概述

计算机网络是由自治计算机互连起来的集合体，使计算机之间更加紧密联系。

计算机网络最基本的功能是数据通信，是其他功能的基础

计算机网络三大主要功能：数据通信、资源共享、分布式处理

计算机网络逻辑功能上分为：资源子网、通信子网

网络资源包括：硬件资源、软件资源和数据资源

城域网是较大范围内连接多个局域网的局域网，仍是以太网。

局域网与广域网之间除了范围，其协议也不同

局域网：广播技术，是在数据链路层和物理层

广域网：点对点、交换技术

分组交换：把数据分成多个大小相当的小数据片

发送时延=分组长度/信道宽带

传播时延=信道长度/传播速率

报文流：网络保持对报文边界追踪，接收到两个报文看成是两个

字节流：不保持追踪，接收到两个字节流看成一个整体

## 计算机网络体系结构与参考模型

协议是指不同结点对等实体之间进行通信的规则或约定，协议达成可以向上一层提供服务，也需要下一层提供服务。

| 名称 | 方向 | 透明性               |
| ---- | ---- | -------------------- |
| 协议 | 水平 | 看不见下一层的协议   |
| 服务 | 垂直 | 可以看见下一层的服务 |

OSI三个主要概念：服务、接口、协议

传输层和网络层才有拥塞控制的功能

传输层以上是端到端的通信（端口号）

| 模型   | 网络层           | 传输层           |
| ------ | ---------------- | ---------------- |
| OSI    | 无连接和面向连接 | 面向连接         |
| TCP/IP | 无连接           | 无连接和面向连接 |

| OSI层      | 功能                                            |
| ---------- | ----------------------------------------------- |
| 应用层     |                                                 |
| 表示层     | 数据的解密加密、压缩、格式转换                  |
| 会话层     | 会话管理和同步，信号中断恢复后可继续接着传      |
| 传输层     | 应答、分组排序、流量控制，增加相应端口信息      |
| 网络层     | 控制信息和IP地址                                |
| 数据链路层 | 物理寻址、流量控制、差错检测，控制信息和MAC地址 |
| 物理层     |                                                 |

| TCP/IP     | 功能                   |
| ---------- | ---------------------- |
| 应用层     |                        |
| 传输层     | 差错检测，流量控制     |
| 网际层     | 无连接不可靠数据报服务 |
| 网络接口层 |                        |

# 操作系统

## 操作系统的基本概念

现代操作系统最基本的两个特征：并发和共享

并发性：若干事件在同一时间间隔内发生

并行性：若干事件在同一时刻发生

操作系统接口：命令接口、系统调用

命令接口：联机用户接口、脱机用户接口

系统调用：也称程序接口，操作系统提供给应用程序的接口，只能通过用户程序间接使用。系统调用命令也称广义指令。

计算机开机后程序最终被加载到内存的系统区，是一个RAM

库函数有时会使用系统调用来实现功能，但不完全只使用系统调用。

## 操作系统的发展与分类

实时操作系统必须在被控制对象规定时间内来处理来自外部的事件。采用抢占式的优先级高者优先以便可以及时的处理某些紧急事件。

实时操作系统两个重要目标：实时性和可靠性，允许浪费某些资源。

优先级+非抢占式调度算法可以改善系统的响应时间，保证重要的事件优先执行，次要的事件也能得到响应

分时操作系统：时间片轮转，要求快速响应多个用户

批处理系统：用户脱机使用、成批处理、多道程序并发执行，交互能力差

分时操作系统：多个用户同时独立使用计算机、人机交互性强、响应及时

实时操作系统：反应快，可靠性强，资源利用率低

## 操作系统的运行环境

输入输出需要中断，中断是在核心态下执行的

系统调用需要触发trap陷入指令

中断处理是操作系统必须提供的功能，各种错误处理需要中断，核心态和用户态切换也需要中断处理

进入中断处理的程序是核心态的，只能属于操作系统程序

核心态->用户态：操作系统完成，由中断返回到用户程序时

用户态->核心态：硬件完成，发生中断时，外部中断

进程切换属于系统调用执行过程中的事件，只能发生在核心态

广义指令的调用可以发生在用户态，但其执行一定处于核心态

输入输出涉及到中断，所以必须放到核心态下执行

中断处理重要的两个寄存器：PC(程序计数器)、PSWR(程序状态字寄存器)。子程序只保护PC，中断处理，保护两个。

中断：指CPU执行指令以外的事情发生。PC内容由中断隐指令保存、通用寄存器内容由操作系统保存。

异常：也称内中断、例外或陷入，指CPU执行指令内部的事件

通道技术使得I/O独立于CPU，使得输入与输出可以与CPU并行。

中断技术指I/O结束后，可以中断CPU执行其他程序。

多道程序指I/O与CPU在执行时间上可以并行。

## 操作系统的体系结构

微内核将内核与系统服务分离出来，使得服务之间使用进程机制进行通信。传统的是都在内核中。

# 计算机组成原理

## 计算机的性能指标

CPU时钟频率越高完成指令的一个执行步骤所用的时间就越短

| 指标   | 解释                                               |
| ------ | -------------------------------------------------- |
| MIPS   | 每秒执行多少百万条指令，衡量标准机的性能，主频/CPI |
| CPI    | 平均每条指令的时钟周期数                           |
| IPC    | 每个时钟周期执行的指令数                           |
| MFLOPS | 每秒执行多少百万条浮点数运算，衡量向量机的性能     |

| 字长     | 解释                                                         |
| -------- | ------------------------------------------------------------ |
| 机器字长 | 计算机的位数，CPU一次能处理数据的位数，通常与CPU的寄存器位数有关，是数据运算的基本单位长度 |
| 指令字长 | 计算机指令字的位数                                           |
| 存储字长 | 二进制代码的位数==MDR的位数                                  |
| 数据字长 | 数据总线一次能并行传送信息的位数，可以不等于MDR              |

机器字长、指令字长、存储字长三者可以相等可以不等

寄存器由触发器构成

状态寄存器、通用寄存器、PC可以由汇编设置，指令寄存器完全透明。

兼容指计算机软件或硬件的通用性，通常在同一系列不同型号的计算机间通用。

64K×32位：地址总线宽度16位，数据总线宽带为32位，所以MAR为16位，PC为16位，MDR为32位。又指令字长=存储字长=机器字长，则IR、ACC、MQ、X均为32位

CPU时钟周期：1/HZ

程序执行时间：CPI×（1/MHZ）×I

平均指令周期：1/MIPS

平均执行速度：平均指令周期/CPU时钟周期

## 数制与编码

8421BCD码每4位对应一个十进制，其中1010—1111不能使用，因为十进制没得这几个数

十进制转为其他进制：整数部分%进制，余数逆序输出，商继续除。小数部分乘以进制，整数部分输出，小数部分继续乘。

低进制不能表示高进制的小数部分，如二进制不能表示十进制的小数，因为二进制只能有：1/2，1/4，1/8...

ASCII码由7位表示，最高位保持为0

小端存储，第一个存地位最小的两个数，如01234567H，存67H

码距>=2的数据校验码具有检错能力，码距越大，检错能力越强。

汉明码码距>2，可以检测出一位数据错误并指出位置,可以发现两位错误，并纠正1位

奇偶校验码距=2，可以检测出一位数据错误或奇数位错误，不能指出距离，也不能检测出偶数位错误。奇校验当为奇数个1则正确，偶校验为偶数个1则正确。

CRC通过除法运算建立数据和校验位之间的约定关系，检查出错误后可以请求重发、删除数据、通过余数值自行纠正。适合大量数据。

汉明码纠正1位检验位数为k，2^k>=n+k+1。纠正2位，2^(k-1)>=n+k+1

CRC码中，要求数字长度不变，余数与CRC码出错位的对应关系不变，将接收到的CRC码与多项式相除，为0则对，不为0则有错误，多项式选取合理的话可以判断出错位。

海明码计算：

数据为1010，长度n=4，则根据2^k>=n+k+1，求得k=3，得到一个长n+k=7的表。

| 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |

其中2^n位设为P(n+1),其余位子依次填入数据

| 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| P1   | P2   | 1    | P3   | 0    | 1    | 0    |

有二进制表头

| 001  | 010  | 011  | 100  | 101  | 110  | 111  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| P1   | P2   | 1    | P3   | 0    | 1    | 0    |

找出P表数字1的位置剩余表头数字该位置也是1的，并将对应数据拼合。

P1(001) -> M3(011)M5(101)M7(111)->100，奇0偶1

P2(010)->M3(011)M6(110)M7(111)->110，奇1偶0

P3(100)->M5(101)M6(110)M7(111)->010，奇0偶1

根据奇偶校验有

|      | 1    | 2    | 3    | 4    | 5    | 6    | 7    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 奇   | 0    | 1    | 1    | 0    | 0    | 1    | 0    |
| 偶   | 1    | 0    | 1    | 1    | 0    | 1    | 0    |

----

或Pn采用异或的方式，全校验位即多加一个位子，当Pn有偶数个1时，则为0，奇数个1时则为1.