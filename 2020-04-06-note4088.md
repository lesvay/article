---
title: 408刷题笔记8
date: 2020-04-06 09:14:40
categories: 
    - 刷题笔记
tags: 
    - 408
---

# 操作系统

## IO管理概述

可寻址是块设备的基本特征

共享设备是可寻址的和可随机访问的。一段时间允许多个进程同时访问，同一时间只允许一个进程访问。不会引起进程死锁。

I/O即设备控制器实现对设备的控制

DMA是I/O设备和主存之间的数据通路，不经过CPU。DMA是方式，通道是处理器。

命令/状态寄存器控制DMA的工作模式并反映给CPU当前的状态，地址寄存器存放DMA作业时的源地址和目标地址，数据寄存器存放DMA转移的数据。

字节多路通道，各个通道循环使用主通道，适合大量低速或中速I/O设备

绝对号：区分和识别设备

固有属性：决定了设备的使用方式

独立性：提高设备分配的灵活性和利用率

安全性：保证分配设备不会永久阻塞

通道设备控制设备控制器、设备控制器控制设备工作

所有设备启动工作由系统统一来做

来自通道的I/O中断事件由设备管理负责处理

编制好的通道程序是存放在主存中的

通道在完成通道程序后向CPU发出报告产生中断

设备驱动程序按类型分配，每类提供一个

系统调用命令是接口，不会改变。设备驱动程序负责执行操作系统发出的I/O命令，因设备不同而不同

I/O流程：用户程序->系统调用处理程序(设备无关软件)->设备驱动程序->中断处理程序

通道方式相对于DMA方式CPU干预更深，而且可以使用一些指令灵活改变通道程序

DMA方式传输批量数据以存储器为核心，中断控制方式传输以字节为单位以CPU为核心

## IO核心子系统

设备分配的数据结构：SDT系统设备表（整个系统只有一张）->DCT设备控制表（每个设备有一张）->COCT控制器控制表（每个控制器）<->CHCT通道控制表（每个通道）

SPOOLing输入输出井磁盘上的存储空间，缓冲池是在内存开辟空间。

# 传输层

## 传输层提供的服务

可靠是指使用确认机制来确保传输的数据不丢失

TCP报文长20B，IP报文长20B

使用UDP传输时，应用层要提供可靠性方面的工作

## UDP协议

伪首部只在计算校验和时临时添加，不计入UDP的长度中。

UDP数据报格式包括：源端口号、目的端口号、报文长度和校验和。

长度字段记录UDP数据包的长度，包括首部和数据部分。

校验和不是必须的，如果不使用则将校验和字段设置为0，如果校验结果为0，则将校验和全置为1

标识符相同才可以进行组装

## TCP协议

协议字段：17UDP,6TCP

TCP采用的是报文段的确认机制

TCP最大数据流：接收方允许的窗口和拥塞窗口最小值

滑动窗口的作用：流量控制

拥塞窗口是发送端根据网络拥塞情况确定的窗口值

新的RTT=（1-α）×（旧RTT）+α×新的RTT样本

# 计算机组成原理

## IO系统基本概念

I/O设备通过设备控制器与总线相连

通道程序存放在主存中，通道程序由通道执行

## 外部设备

打印机从打字原理区分分为击打式和非击打式。按照能否打出汉字来区分分为点阵式和活字式。

汉字内码在主存中占用8个字节

VRAM存放ASCII码显示字符

RAID是无冗余和无校验，有多个物理盘组成，不影响磁记录密度，也不会提高磁盘利用率

## IO接口

I/O的命令字、状态字、中断类型号

区分存储单元和I/O设备需要不同的地址码

I/O功能：数据格式转换、I/O过程中错误与状态检测、I/O操作的控制与定时、与主机和外设通信

按照数据传输格式可以将接口分为并行接口和串行接口

统一编址方式下，存储单元和I/O设备是靠不同的地址码区分，访存指令可以访问I/O设备

独立编址方式下，存储单元和I/O设备是靠不同的指令来区分

数据传输发生在通用寄存器和I/O端口之间